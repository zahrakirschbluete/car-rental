{% block editCustomer %}



   	
				<header class="text-center m-5">
					<h2 class=" font-weight-bold">Renting Done Right.
					</br>
					Finally.</h2>
			</header>



<nav class="navbar navbar-expand-lg navbar-dark nav-bg" >
  
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
  <ul class="navbar-nav mx-auto font-weight-bold">
      <li class="nav-item active">
        <a class="nav-link" href="/customersMenu">Customers</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/carsMenu">Cars</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/rentCar">Rent Car</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/returnCar">Return Car</a>
      </li>
	  <li class="nav-item">
        <a class="nav-link" href="/history">History</a>
      </li>
    </ul>
  </div>
</nav>
 <main region="main" class="main site-content">
  <div class="mainsection">
    <section class="form">
      <legend class="formHeader">
        <h2>Edit Customer</h2>
      </legend>
    
      <form id="editCustomer" method="post" action="">
    <label>
      Social security number: <input disabled type="text" name="customerNumber"
                 value="{{customerNumber}}" autofocus="autofocus">
    </label>
        <label>
          Name: <input type="text" name="customerName"
                 value="{{customerName}}" autofocus="autofocus">
        </label>
    
        <label>
          Address: <input type="text" name="customerAddress"
                 value="{{customerAddress}}" autofocus="autofocus">
        </label>
    
        <label>
          Postal Address: <input id="postalAddress" type="text" name="postalAddress"
                 value="{{postalAddress}}" autofocus="autofocus">
        </label>
    
        <label>
          Phone Number: <input id="phoneNumber" type="text" name="phoneNumber"
                 value="{{phoneNumber}}" autofocus="autofocus">
        </label>
        <input class="btn-custom  col mt-2" type="submit" value="Edit customer" onclick="validation()">
         <a href="/customersMenu" class="btn btn-danger col mt-2">Cancel</a>
      </form>
     
		</section>
    </section>
  </div>
  </main>
      <script>

    function validation() {
      //lagrar kundens phoneNumber input
      let phoneNumber = document.getElementById("phoneNumber").value;
      //lagrar regex för phoneNumber, säger till att första numret måste vara 0, och därefter måste 9 st siffror mellan 0-9 anges
      let regx = /^[0]\d{9}$/;
      //lagrar kundens postalAddress input
      let postalAddress = document.getElementById("postalAddress").value;
      let regx1 = /^\d{5}/;
      
      if(regx.test(phoneNumber) && regx1.test(postalAddress)) {
        document.getElementById("editCustomer").action = "/customerEdited/{{customerNumber}}/{{customerName}}/{{customerAddress}}/{{postalAddress}}/{{phoneNumber}}";

      } else {
        alert("Invalid input. Please note that the postal address must start with 3 letters and end with 3 numbers, as well the phone number has to start with a 0 and have a maximum length of 10 numbers.");
      }
      }
      </script>


       
       

{% endblock %}
