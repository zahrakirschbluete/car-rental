{% block editCustomer %}




  <main region="main" class="main site-content">
        <section class="statement">
        <header>
          <h2>Renting Done Right. </br> Finally.</h2>
        </header>
     
      </section>
    <nav region="navigation">

              <tr><td colspan="3">
          <form action="/customersMenu" method="post">
            <input class="btn nav-btn" type="submit" value="Customers">
          </form> 
          </td>
            <td colspan="3">
          <form action="/carsMenu" method="post">
            <input class="btn nav-btn" type="submit" value="Cars">
          </form>  
          </td>
            <td colspan="3">
          <form action="/rentCar" method="post">
            <input class="btn nav-btn" type="submit" value="Rent Car">
          </form>  
          </td>
            <td colspan="3">
          <form action="/returnCar" method="post">
            <input class="btn nav-btn" type="submit" value="Return Car">
          </form>  
          </td>
           <td colspan="3">
          <form action="/history" method="post">
            <input class="btn nav-btn" type="submit" value="History">
          </form>  
          </td></tr>

    </nav>
  <div class="mainsection">
    <section class="form">
      <legend class="formHeader">
        <h2>Edit Customer</h2>
      </legend>
    
      <form id="editCustomer" method="post" action="">
    <label for="">
      Social security number: <input disabled type="text" name="customerNumber"
                 value="{{customerNumber}}" autofocus="autofocus">
    </label>
        <label>
          Name: <input type="text" name="customerName"
                 value="{{customerName}}" autofocus="autofocus">
        </label>
    
        <label>
          Address: <input type="text" name="customerAddress"
                 value="{{customerAddress}}" autofocus="autofocus">
        </label>
    
        <label>
          Postal Address: <input id="postalAddress" type="text" name="postalAddress"
                 value="{{postalAddress}}" autofocus="autofocus">
        </label>
    
        <label>
          Phone Number: <input id="phoneNumber" type="text" name="phoneNumber"
                 value="{{phoneNumber}}" autofocus="autofocus">
        </label>
        <input class="btn add-btn" type="submit" value="Edit customer" onclick="validation()">
      </form>
        <form method="post" action="/customersMenu">
        <input class="btn add-btn" type="submit" value="Cancel">
      </form>
    </section>
  </div>
  </main>
      <script>

    function validation() {
      //lagrar kundens phoneNumber input
      let phoneNumber = document.getElementById("phoneNumber").value;
      //lagrar regex för phoneNumber, säger till att första numret måste vara 0, och därefter måste 9 st siffror mellan 0-9 anges
      let regx = /^[0]\d{9}$/;
      //lagrar kundens postalAddress input
      let postalAddress = document.getElementById("postalAddress").value;
      let regx1 = /^\d{5}/;
      
      if(regx.test(phoneNumber) && regx1.test(postalAddress)) {
        document.getElementById("editCustomer").action = "/customerEdited/{{customerNumber}}/{{customerName}}/{{customerAddress}}/{{postalAddress}}/{{phoneNumber}}";

      } else {
        alert("Invalid input. Please note that the postal address must start with 3 letters and end with 3 numbers, as well the phone number has to start with a 0 and have a maximum length of 10 numbers.");
      }
      }
      </script>


       
       

{% endblock %}
